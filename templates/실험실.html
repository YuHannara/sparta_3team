<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <title>실험실</title>

    <script>
        <!--리뷰 저장하기 -->
        $(document).ready(function () {
            call_review();
        });


        function make_review() {
            let name = $('#name').val();
            let review = $('#review').val();
            let star = $('#star').val();

            $.ajax({
                    type: "POST",
                    url: "/review",
                    data: {name_give: name, review_give: review, star_give: star},
                    success: function (response) {
                        alert(response["msg"]);
                        window.location.reload();
                    }
                }
            )
        }

        <!-- 리뷰 불러오기 -->
        function call_review() {
            $.ajax({
                type: "GET",
                url: "/review",
                data: {},
                success: function (response) {
                    let reviews = response['all_reviews']

                    for (let i = 0; i < reviews.length; i++) {
                        let name = reviews[i]['name']
                        let review = reviews[i]['review']
                        let star = reviews[i]['star']

                        let temp_html = `<tr>
                                        <td>${name}</td>
                                        <td>${review}</td>
                                        <td>${star}</td>
                                     </tr>`

                        $('#card-box').append(temp_html)

                    }
                }

            })
        }
    </script>
</head>
<body>
<div><input type="text" id="name">맛집 이름</div>
<div><input type="text" id="review">리뷰</div>
<div><input type="text" id="star">별점</div>

<button type="button" onclick="make_review()" class="btn btn-primary mybtn"> 리뷰 작성하기</button>

<table class="table">
    <thead>
    <tr>
        <th scope="col">맛집 이름</th>
        <th scope="col">리뷰</th>
        <th scope="col">별점</th>
    </tr>
    </thead>
    <tbody id="reviews-box">
    </tbody>
</table>
</body>
</html>